//
// Generated by JSON2Apex http://json2apex.herokuapp.com/
//

public class FacebookAlbums {
	public List<FacebookAlbum> data {get;set;}
	public FacebookPaging paging {get;set;}

	public FacebookAlbums(JSONParser parser) {
		while (parser.nextToken() != JSONToken.END_OBJECT) {
			if (parser.getCurrentToken() == JSONToken.FIELD_NAME) {
				String text = parser.getText();
				if (parser.nextToken() != JSONToken.VALUE_NULL) {
					if (text == 'data') {
						data = new List<FacebookAlbum>();
						while (parser.nextToken() != JSONToken.END_ARRAY) {
							data.add(new FacebookAlbum(parser));
						}
					} else if (text == 'paging') {
						paging = new FacebookPaging(parser);
					} else {
						System.debug(LoggingLevel.WARN, 'FacebookAlbums consuming unrecognized property: '+text);
						FacebookUtil.consumeObject(parser);
					}
				}
			}
		}
	}
	
	public FacebookAlbums(String accessToken, String id, Map<String, String> params) {
		this(System.JSON.createParser(FacebookUtil.get(accessToken, id, params)));
	}
	
	public FacebookAlbums(String accessToken, String id) {
		this(accessToken, id, null);
	}
		
	public static FacebookAlbums parse(String json) {
		return new FacebookAlbums(System.JSON.createParser(json));
	}
	
	// This test method should give 100% coverage
	static testMethod void testParse() {
		String json = '{'+
		'  \"data\": ['+
		'    {'+
		'      \"id\": \"1111111111\",'+
		'      \"from\": {'+
		'        \"name\": \"Some Text\",'+
		'        \"id\": \"1111111111\"'+
		'      },'+
		'      \"name\": \"Some Text\",'+
		'      \"link\": \"https://www.facebook.com/\",'+
		'      \"cover_photo\": \"1111111111\",'+
		'      \"privacy\": \"everyone\",'+
		'      \"count\": 1,'+
		'      \"type\": \"normal\",'+
		'      \"created_time\": \"2012-01-15T15:06:41+0000\",'+
		'      \"updated_time\": \"2012-01-15T15:06:42+0000\",'+
		'      \"can_upload\": false'+
		'    },'+
		'    {'+
		'      \"id\": \"1111111111\",'+
		'      \"from\": {'+
		'        \"name\": \"Some Text\",'+
		'        \"id\": \"1111111111\"'+
		'      },'+
		'      \"name\": \"Some Text\",'+
		'      \"link\": \"https://www.facebook.com/\",'+
		'      \"cover_photo\": \"1111111111\",'+
		'      \"privacy\": \"custom\",'+
		'      \"count\": 9,'+
		'      \"type\": \"friends_walls\",'+
		'      \"created_time\": \"2011-04-14T20:29:18+0000\",'+
		'      \"updated_time\": \"2011-12-22T07:28:35+0000\",'+
		'      \"can_upload\": false'+
		'    }'+
		'  ],'+
		'  \"paging\": {'+
		'    \"previous\": \"https://graph.facebook.com/me/albums?format=json&limit=25&since=1111111111&__paging_token=1111111111&__previous=1\",'+
		'    \"next\": \"https://graph.facebook.com/me/albums?format=json&limit=25&until=1111111111&__paging_token=1111111111\"'+
		'  }'+
		'}';
		FacebookAlbums r = parse(json);
		System.assert(r != null);
		System.assert(r.data != null);
		System.assert(r.paging != null);

		FacebookUtil.testmode = true;
		FacebookUtil.teststubresponse = json;
		r = new FacebookAlbums('TEST', 'TEST');
		System.assert(r != null);
		System.assert(r.data != null);
		System.assert(r.paging != null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		FacebookAlbums objRoot = new FacebookAlbums(System.JSON.createParser(json));
		System.assert(objRoot != null);
		System.assert(objRoot.data == null);
		System.assert(objRoot.paging == null);
	}
}